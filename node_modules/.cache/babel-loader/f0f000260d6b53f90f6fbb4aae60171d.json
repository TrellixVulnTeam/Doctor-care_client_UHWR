{"ast":null,"code":"var _jsxFileName = \"/home/asus2/Frontend-React.JS-QuickStart/src/containers/Auth/Login.js\";\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { push } from \"connected-react-router\";\nimport * as actions from \"../../store/actions\";\nimport '../Auth/Login.scss';\nimport { FormattedMessage } from 'react-intl';\nimport { handleLoginApi } from '../../services/userService';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nclass Login extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleOnChangeUsername = event => {\n      this.setState({\n        username: event.target.value\n      });\n    };\n\n    this.handleOnChangePassword = event => {\n      this.setState({\n        password: event.target.value\n      });\n    };\n\n    this.handleLogin = async () => {\n      // console.log('username: ', this.state.username , 'password: ', this.state.password)\n      // , tuong duong +\n      // console.log('allstate', this.state)\n      //xoa message loi moi khi thuc hien\n      this.setState({\n        errMessage: ''\n      });\n\n      try {\n        let data = await handleLoginApi(this.state.username, this.state.password);\n\n        if (data && data.errCode !== 0) {\n          this.setState({\n            errMessage: data.message\n          });\n          console.log(data);\n        }\n\n        if (data && data.errCode === 0) {\n          //todo \n          this.props.userLoginSuccess(data.user);\n          console.log('login success');\n        }\n      } catch (e) {\n        if (e.response) {\n          if (e.response.data) {\n            this.setState({\n              erressage: e.response.data.message\n            });\n          }\n        }\n\n        console.log(e.response);\n      }\n    };\n\n    this.handleShowHidePassword = () => {\n      this.setState({\n        isShowPassword: !this.state.isShowPassword\n      });\n    };\n\n    this.handleKeyDown = event => {\n      if (event.key === 'Enter' || event.keyCode === 13) {\n        this.handleLogin();\n      }\n    };\n\n    this.state = {\n      //khoi tao state\n      username: '',\n      password: '',\n      isShowPassword: false,\n      errMessage: ''\n    };\n  } //cap nhat lai gia tri cho state\n\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"custom\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          for: \"email\",\n          children: \"Email address:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"email\",\n          class: \"form-control\",\n          placeholder: \"Enter email\",\n          id: \"email\",\n          value: this.state.username,\n          onChange: event => this.handleOnChangeUsername(event)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          for: \"pwd\",\n          children: \"Password:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"custom-input-password\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: this.state.isShowPassword ? 'text' : 'password',\n            class: \"form-control\",\n            placeholder: \"Enter password\",\n            id: \"pwd\",\n            onChange: event => this.handleOnChangePassword(event),\n            onKeyDown: event => this.handleKeyDown(event)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            onClick: () => {\n              this.handleShowHidePassword();\n            },\n            children: /*#__PURE__*/_jsxDEV(\"i\", {\n              class: this.state.isShowPassword ? 'fa fa-eye' : 'far fa-eye-slash'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 100,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 98,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"form-check\",\n          children: /*#__PURE__*/_jsxDEV(\"label\", {\n            class: \"form-check-label\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              class: \"form-check-input\",\n              type: \"checkbox\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 107,\n              columnNumber: 25\n            }, this), \" Remember me\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 106,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          class: \"btn btn-primary\",\n          onClick: () => {\n            this.handleLogin();\n          },\n          children: \"Login\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"mess\",\n          style: {\n            color: 'red'\n          },\n          children: this.state.errMessage\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 17\n      }, this)\n    }, void 0, false);\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    language: state.app.language\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    navigate: path => dispatch(push(path)),\n    // userLoginFail: () => dispatch(actions.adminLoginFail()),\n    userLoginSuccess: userInfo => dispatch(actions.userLoginSuccess(userInfo))\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Login);","map":{"version":3,"sources":["/home/asus2/Frontend-React.JS-QuickStart/src/containers/Auth/Login.js"],"names":["React","Component","connect","push","actions","FormattedMessage","handleLoginApi","Login","constructor","props","handleOnChangeUsername","event","setState","username","target","value","handleOnChangePassword","password","handleLogin","errMessage","data","state","errCode","message","console","log","userLoginSuccess","user","e","response","erressage","handleShowHidePassword","isShowPassword","handleKeyDown","key","keyCode","render","color","mapStateToProps","language","app","mapDispatchToProps","dispatch","navigate","path","userInfo"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { push } from \"connected-react-router\";\r\n\r\nimport * as actions from \"../../store/actions\";\r\nimport '../Auth/Login.scss';\r\nimport { FormattedMessage } from 'react-intl';\r\nimport { handleLoginApi } from '../../services/userService';\r\n\r\nclass Login extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {//khoi tao state\r\n            username: '',\r\n            password: '',\r\n            isShowPassword: false,\r\n            errMessage:''\r\n\r\n        }\r\n    }\r\n    //cap nhat lai gia tri cho state\r\n    handleOnChangeUsername = (event) => {\r\n        this.setState({\r\n            username: event.target.value\r\n        })\r\n    }\r\n    handleOnChangePassword = (event) => {\r\n        this.setState({\r\n            password: event.target.value\r\n        })\r\n    }\r\n    handleLogin = async () => {\r\n        // console.log('username: ', this.state.username , 'password: ', this.state.password)\r\n        // , tuong duong +\r\n        // console.log('allstate', this.state)\r\n        //xoa message loi moi khi thuc hien\r\n        this.setState({\r\n            errMessage:''\r\n        })\r\n        try{\r\n            let data = await handleLoginApi(this.state.username, this.state.password);\r\n            if(data && data.errCode !==0){\r\n                this.setState({\r\n                    errMessage: data.message\r\n                    \r\n                })\r\n                console.log(data);\r\n            }\r\n            if(data && data.errCode === 0){\r\n                //todo \r\n                this.props.userLoginSuccess(data.user)\r\n                console.log('login success')\r\n            }\r\n        }catch(e){\r\n            if(e.response){\r\n                if(e.response.data){\r\n                    this.setState({\r\n                        erressage: e.response.data.message\r\n                    })\r\n                }\r\n            }\r\n            console.log(e.response);           \r\n        }\r\n        \r\n    }\r\n    handleShowHidePassword = () => {\r\n        this.setState({\r\n            isShowPassword: !this.state.isShowPassword\r\n        })\r\n    }\r\n    handleKeyDown = (event) => {\r\n        if (event.key === 'Enter' || event.keyCode === 13) {\r\n            this.handleLogin();\r\n        }\r\n    }\r\n    render() {\r\n\r\n        return (\r\n            <>\r\n                <div className=\"custom\">\r\n                    <label for=\"email\">Email address:</label>\r\n                    <input type=\"email\" \r\n                    class=\"form-control\" \r\n                    placeholder=\"Enter email\" \r\n                    id=\"email\"\r\n                    value={this.state.username}\r\n                    onChange={(event)=> this.handleOnChangeUsername(event)}\r\n                    />\r\n                    <label for=\"pwd\">Password:</label>\r\n                    <div className=\"custom-input-password\">\r\n                        <input type={this.state.isShowPassword ? 'text' : 'password'} \r\n                        class=\"form-control\" \r\n                        placeholder=\"Enter password\" \r\n                        id=\"pwd\"\r\n                        onChange={(event)=> this.handleOnChangePassword(event)}\r\n                        onKeyDown = {(event) => this.handleKeyDown(event)}\r\n                        />\r\n                        <span onClick={() => {this.handleShowHidePassword()}}>\r\n                            \r\n                            <i class={this.state.isShowPassword ? 'fa fa-eye' : 'far fa-eye-slash'}></i>\r\n                        </span>\r\n                        \r\n                    </div>\r\n                    \r\n                    <div class=\"form-check\">\r\n                        <label class=\"form-check-label\">\r\n                        <input class=\"form-check-input\" type=\"checkbox\"/> Remember me\r\n                        </label>\r\n                    </div>\r\n                    <button type=\"submit\" class=\"btn btn-primary\"\r\n                    onClick={()=> {this.handleLogin()}}\r\n                    >Login</button>\r\n                    <div class=\"mess\" style={{color:'red'}} >\r\n                    {this.state.errMessage}\r\n                    </div>\r\n                    \r\n               </div>\r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        language: state.app.language\r\n    };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n    return {\r\n        navigate: (path) => dispatch(push(path)),\r\n        // userLoginFail: () => dispatch(actions.adminLoginFail()),\r\n        userLoginSuccess: (userInfo) => dispatch(actions.userLoginSuccess(userInfo)),\r\n    };\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Login);"]},"metadata":{},"sourceType":"module"}